<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4" data-th-fragment="header">
<head>
<meta charset="utf-8">
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- CSRF -->
	<meta name="_csrf" th:content="${_csrf.token}"/>
	<!-- default header name is X-CSRF-TOKEN -->
	<meta name="_csrf_header" th:content="${_csrf.headerName}"/>

<!-- Tether core CSS -->
<link href="../../css/tether.min.css" th:href="@{/css/tether.min.css}"
	rel="stylesheet">

<!-- Bootstrap CSS -->
<link href="../../css/bootstrap.min.css"
	th:href="@{/css/bootstrap.min.css}" rel="stylesheet">

<!-- Font-Awesome CSS -->
<link href="../../css/font-awesome.min.css"
	th:href="@{/css/font-awesome.min.css}" rel="stylesheet">

<!-- NProgress CSS -->
<link href="../../css/nprogress.css" th:href="@{/css/nprogress.css}"
	rel="stylesheet">

<!-- thinker-md CSS -->
<link href="../../css/thinker-md.vendor.css"
	th:href="@{/css/thinker-md.vendor.css}" rel="stylesheet">

<!-- bootstrap tags CSS -->
<link href="../../css/bootstrap-tagsinput.css"
	th:href="@{/css/jquery.tagsinput.min.css}" rel="stylesheet">

<!-- bootstrap chosen CSS -->
<link href="../../css/component-chosen.min.css"
	th:href="@{/css/component-chosen.min.css}" rel="stylesheet">

<!-- toastr CSS -->
<link href="../../css/toastr.min.css" th:href="@{/css/toastr.min.css}"
	rel="stylesheet">

<!-- jQuery image cropping plugin CSS -->
<link href="../../css/cropbox.css" th:href="@{/css/cropbox.css}"
	rel="stylesheet">

<!-- Custom styles -->
<link href="../../css/style.css" th:href="@{/css/style.css}"
	rel="stylesheet">
<link href="../../css/thymeleaf-bootstrap-paginator.css"
	th:href="@{/css/thymeleaf-bootstrap-paginator.css}" rel="stylesheet">
<link href="../../css/blog.css" th:href="@{/css/blog.css}"
	rel="stylesheet">
<title>[[${pageInfo.title}]]</title>
</head>
<body>
	<nav class="navbar navbar-inverse bg-inverse navbar-toggleable-md">
		<div class="container" style="position:static !important;">
            <div  style="float:left;left:0px;">
			   <a class="navbar-brand ml-md-5 ml-0" href="/" th:href="@{/}">[[${pageInfo.home}]]</a>
			</div>
            <button class="navbar-toggler navbar-toggler-right" type="button"
				data-toggle="collapse" data-target="#navbarsContainer"
				aria-controls="navbarsExampleContainer" aria-expanded="false"
				aria-label="Toggle navigation">
				<span class="navbar-toggler-icon" style="float:right;right:0px;"></span>
			</button>
			<div class="collapse navbar-collapse" id="navbarsContainer" style="float:right;right:0px;">

				<ul class="navbar-nav mr-auto">
					<li class="nav-item"><a class="nav-link"
						href="/blogs?order=new" th:attr="url='/blogs?order=new'">[[${pageInfo.upToDate}]]
							<span class="sr-only">(current)</span>
					</a></li>
					<li class="nav-item"><a class="nav-link"
						href="/blogs?order=hot" th:attr="url='/blogs?order=hot'">[[${pageInfo.hot}]]</a>
					</li>
					<form class="form-inline mt-2 mt-md-0">
						<input class="form-control mr-sm-2" type="text" th:placeholder="${pageInfo.search}"
							id="indexkeyword" th:value="${keyword}"> <a
							href="javascript:void(0)"
							class="btn btn-outline-secondary my-2 my-sm-0" id="indexsearch"><i
							class="fa fa-search" aria-hidden="true"></i></a>
					</form>

				</ul>
		   <div sec:authorize="isAuthenticated()"  class="row" id="islogin">
				<div class="dropdown">
					<a class=" dropdown-toggle" href="/u/waylau" th:href="@{'/u/' + ${#authentication.name}}" data-toggle="dropdown"><span sec:authentication="name"></span></a>
					<div class="dropdown-menu" >
						<a class=" dropdown-item" href="/u/waylau" th:href="@{'/u/' + ${#authentication.name}}">[[${pageInfo.personalPage}]]</a> 
						<a class="dropdown-item" href="/u/waylau/profile" th:href="@{'/u/' + ${#authentication.name}} + '/profile'" >[[${pageInfo.personalSet}]]</a>
					</div>
				</div>
				<div>
 					<a href="/u/waylau/blogs/edit" th:href="'/u/' + ${#authentication.name} + '/blogs/edit'" class="btn btn-outline-success my-2 my-sm-0">[[${pageInfo.writeBlogs}]]</a>
 				</div>
 				<div th:if="${#authentication.name} eq 'admin'">
 					<a href="/admins" class="btn btn-outline-success my-2 my-sm-0">[[${pageInfo.systemManagement}]]</a>
 				</div>
				<form action="/logout" th:action="@{/logout}" method="post">
					<input class="btn btn-outline-success " type="submit" th:value="${pageInfo.logout}">
				</form>
            </div>

            <div sec:authorize="isAnonymous()">
                <a href="/login" class="btn btn-outline-success my-2 my-sm-0" type="submit">[[${pageInfo.login}]]</a>
                <a href="/register" class="btn btn-outline-success my-2 my-sm-0" type="submit">[[${pageInfo.register}]]</a>
            <select class="selectpicker my-2 my-sm-0" name="lang" data-style="btn-danger" title="请选择语言" id="selectLanguage">
                  <option value="zh" th:selected="${lang eq 'zh'}">中    文</option>
                  <option value="ja" th:selected="${lang eq 'ja'}">日本語</option>
                  <option value="en" th:selected="${lang eq 'en'}">English</option>
            </select>
            </div>
		</div>

		</div>
	</nav>
</body>
</html>